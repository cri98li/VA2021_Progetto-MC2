{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/idSelector.vue?f9f4","webpack:///./src/components/Map.vue?4789","webpack:///./src/App.vue?87c2","webpack:///./src/components/idSelector.vue?8318","webpack:///src/components/idSelector.vue","webpack:///./src/components/idSelector.vue?d82a","webpack:///./src/components/idSelector.vue?1566","webpack:///./src/components/Map.vue?5d2b","webpack:///./src/assets/MapJS.js","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?3baf","webpack:///./src/components/Map.vue?9397","webpack:///./src/components/TimeControls.vue?8d36","webpack:///./src/components/rangeSelector.vue?676d","webpack:///./src/assets/rangeSelectorJS.js","webpack:///src/components/rangeSelector.vue","webpack:///src/components/mySunburst.vue","webpack:///src/App.vue","webpack:///./src/components/rangeSelector.vue?b34c","webpack:///./src/components/rangeSelector.vue?8376","webpack:///src/components/TimeControls.vue","webpack:///./src/components/TimeControls.vue?3d6b","webpack:///./src/components/TimeControls.vue","webpack:///./src/components/mySunburst.vue?b17a","webpack:///./src/components/vue-d3-sunburst/myBreadcrumbTrail.vue?c583","webpack:///./src/components/vue-d3-sunburst/myBreadcrumb.vue?fa05","webpack:///src/components/vue-d3-sunburst/myBreadcrumb.vue","webpack:///./src/components/vue-d3-sunburst/myBreadcrumb.vue?e243","webpack:///./src/components/vue-d3-sunburst/myBreadcrumb.vue","webpack:///src/components/vue-d3-sunburst/myBreadcrumbTrail.vue","webpack:///./src/components/vue-d3-sunburst/myBreadcrumbTrail.vue?23ab","webpack:///./src/components/vue-d3-sunburst/myBreadcrumbTrail.vue","webpack:///./src/components/mySunburst.vue?8d69","webpack:///./src/components/mySunburst.vue?f177","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/components/rangeSelector.vue?1a5e","webpack:///./src/components/mySunburst.vue?23c4"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","loading","staticStyle","pointCollection","colorbrewer_colors","on","$event","updateCar","ts","usersColor","updateDate","TimeControls","staticRenderFns","ref","carIds","fields","enabled","initialSortBy","field","type","disableSelectInfo","headerPosition","onRowSelected","scopedSlots","_u","fn","props","column","style","background","formattedRow","_s","colorSet","Array","default","children","title","color","mounted","d3","csv","then","forEach","LastName","id","undefined","map","watch","methods","$emit","selected","component","require","MapJS","projection","geoEquirectangular","scale","center","featureClass","colorClass","width","height","me","selection","translate","path","geoPath","paths","selectAll","datum","features","exit","remove","enter","append","attr","properties","_","arguments","featureCollection","geometry","coordinates","gRoutes","newFc","model","callback","$$v","pickedDate","expression","datePrettyPrint","currTime","playState","carColors","updateTime","timePrettyPrint","start","stop","slower","faster","playSpeed","RangeSelector","rif","dispatch","paddingTop","boundaries","x","scaleUtc","colorScaleFunction","scaleLinear","brush","brushX","brushended","event","extent","invert","getTime","params","node","getBoundingClientRect","domain","min","max","range","values","rect","text","transition","duration","array","step","position","parseInt","dim","colors","g","x_axis","axisBottom","tickFormat","utcFormat","axis","merge","select","raise","eventType","handler","timeScaler","colorScaler","updateCircle","timestamp","clearBrush","clear","created","addEventListener","pageResize","destroyed","removeEventListener","timestamps","Number","Boolean","rs","makeConfig","a","components","mapTimeStart","Date","mapTimeStop","required","computed","newVal","dayTimeStamp","day","YYYY_MM_DD","date","toLocaleTimeString","animate","inizio","fine","setTimeout","v","colorScale","nodes","colorGetter","mouseOver","root","clicked","actions","_b","order","endText","from","fromItem","itemHeight","itemWidth","items","spacing","tailWidth","String","Function","trail","breadcrumbPoints","points","join","draw","entering","originIndex","deep","breadcrumb","current","find","toFixed","myBreadcrumbTrail","highlightOnHover","sunburst","zoomOnClick","mapDate","scaler","row","time","location","price","parseFloat","credit_card","loyalty_card","cf","dID","dimension","dDate","dTime","filter","id_FristLastName","set","FirstName","updateData","hierarchy","list_to_tree","depthCursor","newData","levels","depth","index","child","isNaN","ore","minuti","mappaPersoneColori","tmp","toString","nv","MySunburst","IdSelector","Map","fetch","id_to_car_map","CarID","refresh","dTimestamp","filterRange","getGeoJsonFromReports","cfDimension","top","Infinity","getTimestampList","includes","updateColor","ids","getKey","sort","trajs","trs","fc","Vue","Verte","use","BootstrapVue","IconsPlugin","VueGoodTablePlugin","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.b6083947.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/VA2021_Progetto-MC2/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./idSelector.vue?vue&type=style&index=0&id=178f6c18&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('b-navbar',{staticClass:\"shadow\",attrs:{\"type\":\"dark\",\"variant\":\"primary\"}},[_c('b-navbar-brand',[_vm._v(\"VAST 2014 - mc2\")]),_c('b-collapse',{attrs:{\"id\":\"nav-text-collapse\",\"is-nav\":\"\"}},[_c('b-navbar-nav',[_c('b-nav-text',[_vm._v(\"Cristiano Landi\")])],1)],1)],1),_c('b-overlay',{attrs:{\"show\":_vm.loading != 0}},[_c('b-container',{staticStyle:{\"padding-bottom\":\"200px\"},attrs:{\"fluid\":\"xl\"}},[_c('b-row',[_c('b-col',{staticClass:\"xl-no-padding\",staticStyle:{\"text-align\":\"center\"},attrs:{\"xl\":\"8\"}},[_c('Map',{attrs:{\"featureCollection\":_vm.pointCollection}})],1),_c('b-col',{staticClass:\"xl-no-padding\",attrs:{\"xl\":\"4\"}},[_c('idSelector',{attrs:{\"colorSet\":_vm.colorbrewer_colors},on:{\"changeCars\":function($event){return _vm.updateCar($event)}}})],1)],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('TimeControls',{attrs:{\"ts\":_vm.ts,\"carColors\":_vm.usersColor},on:{\"changeTime\":function($event){return _vm.updateDate($event)}}})],1)],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h4',[_vm._v(\"Transazioni\")]),_c('MySunburst',{staticStyle:{\"height\":\"400px\"},attrs:{\"users-color\":_vm.usersColor,\"time-controls\":_vm.TimeControls,\"colors\":_vm.colorbrewer_colors}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.loading}},[_c('b-form-group',[_c('h4',[_vm._v(\"Seleziona una persona\")]),_c('div',{attrs:{\"id\":\"carList\"}},[_c('vue-good-table',{ref:\"ids\",staticClass:\"table\",attrs:{\"select-mode\":\"multi\",\"rows\":_vm.carIds,\"columns\":_vm.fields,\"fixed-header\":true,\"compact-mode\":\"\",\"sort-options\":{\n          enabled: true,\n          initialSortBy: {field: 'name', type: 'asc'}\n        },\"select-options\":{\n          enabled: true,\n          disableSelectInfo: true,\n          //selectAllByGroup: true,\n        },\"search-options\":{enabled: true},\"group-options\":{\n          enabled: true,\n          headerPosition: 'top'\n        }},on:{\"on-selected-rows-change\":_vm.onRowSelected},scopedSlots:_vm._u([{key:\"table-row\",fn:function(props){return [(props.column.field == 'color')?_c('span',{staticClass:\"wrap\"},[_c('span',[_c('div',{staticClass:\"colorPicker\",style:({background: props.formattedRow[props.column.field]})})])]):_c('span',[_vm._v(\" \"+_vm._s(props.formattedRow[props.column.field])+\" \")])]}}])})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-overlay :show=\"loading\">\r\n    <b-form-group>\r\n      <h4>Seleziona una persona</h4>\r\n      <div id=\"carList\">\r\n        <vue-good-table\r\n            select-mode=\"multi\"\r\n            :rows=\"carIds\"\r\n            :columns=\"fields\"\r\n            @on-selected-rows-change=\"onRowSelected\"\r\n            class=\"table\"\r\n            :fixed-header=\"true\"\r\n            ref=\"ids\"\r\n            compact-mode\r\n            :sort-options=\"{\r\n            enabled: true,\r\n            initialSortBy: {field: 'name', type: 'asc'}\r\n          }\"\r\n            :select-options=\"{\r\n            enabled: true,\r\n            disableSelectInfo: true,\r\n            //selectAllByGroup: true,\r\n          }\"\r\n            :search-options=\"{enabled: true}\"\r\n            :group-options=\"{\r\n            enabled: true,\r\n            headerPosition: 'top'\r\n          }\"\r\n        >\r\n          <template slot=\"table-row\" slot-scope=\"props\">\r\n          <span\r\n              class=\"wrap\"\r\n              v-if=\"props.column.field == 'color'\">\r\n            <span>\r\n              <!--<verte :value=\"props.formattedRow[props.column.field]\"></verte>-->\r\n              <div :style=\"{background: props.formattedRow[props.column.field]}\" class=\"colorPicker\"></div>\r\n            </span>\r\n          </span>\r\n            <span v-else>\r\n            {{ props.formattedRow[props.column.field] }}\r\n          </span>\r\n          </template>\r\n        </vue-good-table>\r\n      </div>\r\n    </b-form-group>\r\n  </b-overlay>\r\n</template>\r\n\r\n<script>\r\n\r\nconst d3 = require('d3');\r\n\r\nexport default {\r\n  name: \"idSelector\",\r\n\r\n  props: {\r\n    colorSet: {\r\n      type: Array,\r\n      default: () => [\"red\"]\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      carIds: [{\r\n        type: \"Loading\",\r\n        children: [{\r\n          value: 0,\r\n          name: \"Loading\",\r\n          title: \"Loading\",\r\n          color: \"red\"\r\n        }]\r\n      }],\r\n\r\n\r\n      loading: true,\r\n      fields: [\r\n        {\r\n          label: 'Nome',\r\n          field: 'name'\r\n        },\r\n        {\r\n          label: 'Mansione',\r\n          field: 'title'\r\n        },\r\n        {\r\n          label: '',\r\n          field: 'color',\r\n          sortable: false,\r\n          globalSearchDisabled: true,\r\n        }\r\n      ]\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    d3.csv(\"/nomi.csv\").then(data => {\r\n      this.carIds = [];\r\n\r\n      let c = 0;\r\n      let map = {};\r\n\r\n      data.forEach((d) => {\r\n        let id = parseInt(d.id);\r\n        let name = d.LastName + \" \" + d.FirstName;\r\n        let title = d.CurrentEmploymentTitle;\r\n        let type = d.CurrentEmploymentType;\r\n\r\n        if (title == \"\") title = \"Sconosciuto\"\r\n        if (type == \"\") type = \"Nessuna auto assegnata\"\r\n        if (d.LastName == \"\") {\r\n          name = \"Sconosciuto\"\r\n          title = \"\"\r\n          type = \"Auto noleggiate a sconosciuti\"\r\n        }\r\n\r\n        let prop = {\r\n          value: id,\r\n          name: name,\r\n          title: title,\r\n          color: this.colorSet[id % this.colorSet.length]\r\n        }\r\n\r\n        if (map[type] != undefined) {\r\n          this.carIds[map[type]].children.push(prop)\r\n        } else {\r\n          map[type] = c++;\r\n          let list = [prop]\r\n          this.carIds[map[type]] = {name: type}\r\n          this.carIds[map[type]].children = list\r\n        }\r\n      })\r\n\r\n      this.loading = false;\r\n    });\r\n  },\r\n\r\n  watch: {},\r\n\r\n  methods: {\r\n    onRowSelected(items) {\r\n      let selected = items.selectedRows.map(d => d.value).filter(d => d != null)\r\n\r\n      this.$emit('changeCars', selected);\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.table{\r\n  margin-top: 17px;\r\n  max-height: 463px;\r\n  overflow-x: auto;\r\n}\r\n.colorPicker {\r\n  width: 25px;\r\n  height: 25px;\r\n  border-radius: 100%;\r\n  margin: auto;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./idSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./idSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./idSelector.vue?vue&type=template&id=178f6c18&scoped=true&\"\nimport script from \"./idSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./idSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./idSelector.vue?vue&type=style&index=0&id=178f6c18&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"178f6c18\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.loading}},[_c('svg',{staticClass:\"map\",attrs:{\"width\":\"100%\",\"viewBox\":\"0 0 730 500\",\"preserveAspectRatio\":\"xMidYMid meet\"}},[_c('image',{attrs:{\"href\":\"MC2-tourist.jpg\",\"height\":\"500\",\"width\":\"100%\"}}),_c('g',{ref:\"abila\",staticClass:\"abila\"}),_c('g',{ref:\"routes\",staticClass:\"routes\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const d3 = require('d3');\r\n\r\nexport default function MapJS() {\r\n    let projection = d3.geoEquirectangular();\r\n    let scale = 480000;\r\n    let center = [24.8673, 36.070512];\r\n    let featureClass = \"id\";\r\n    let colorClass = \"color\";\r\n    let width = 730\r\n    let height = 500\r\n\r\n    function me(selection) {\r\n\r\n\r\n        projection = d3.geoEquirectangular()\r\n            .scale(scale)\r\n            .center(center)\r\n            .translate([width / 2, height / 2]);\r\n\r\n        let path = d3.geoPath().projection(projection);\r\n\r\n        const paths = selection.selectAll('path')\r\n            .data(selection.datum().features);\r\n\r\n        paths.exit().remove();\r\n\r\n        paths.enter()\r\n            .append('path');\r\n\r\n        selection.selectAll('path')\r\n            .attr('class', (d) => {\r\n                if (d.properties[featureClass])\r\n                    return \"_\" + d.properties[featureClass]\r\n                return 'none';\r\n            })\r\n            .attr('stroke', (d) => {\r\n                if (d.properties[colorClass])\r\n                    return d.properties[colorClass]\r\n                return 'none';\r\n            })\r\n            .attr('d', path);\r\n    }\r\n\r\n    me.projection = function (_) {\r\n        if (!arguments.length) return projection;\r\n        projection = _;\r\n\r\n        return me;\r\n    };\r\n\r\n    me.scale = function (_) {\r\n        if (!arguments.length) return scale;\r\n        scale = _;\r\n        projection.scale(scale);\r\n\r\n        return me;\r\n    };\r\n\r\n    me.center = function (_) {\r\n        if (!arguments.length) return center;\r\n        center = _;\r\n        projection.center(center);\r\n\r\n        return me;\r\n    };\r\n\r\n    me.height = function (_) {\r\n        if (!arguments.length) return height;\r\n        height = _;\r\n\r\n        return me;\r\n    };\r\n\r\n    me.width = function (_) {\r\n        if (!arguments.length) return width;\r\n        width = _;\r\n\r\n        return me;\r\n    };\r\n\r\n\r\n    me.featureClass = function (_) {\r\n        if (!arguments.length) return featureClass;\r\n        featureClass = _;\r\n\r\n        return me;\r\n    };\r\n\r\n\r\n    me.colorClass = function (_) {\r\n        if (!arguments.length) return colorClass;\r\n        colorClass = _;\r\n\r\n        return me;\r\n    };\r\n\r\n\r\n    return me;\r\n}","<template>\r\n  <b-overlay :show=\"loading\">\r\n    <svg width=\"100%\" class=\"map\" viewBox=\"0 0 730 500\" preserveAspectRatio=\"xMidYMid meet\">\r\n      <image href=\"MC2-tourist.jpg\" height=\"500\" width=\"100%\"/>\r\n      <g class=\"abila\" ref=\"abila\"></g>\r\n      <g class=\"routes\" ref=\"routes\"></g>\r\n    </svg>\r\n  </b-overlay>\r\n</template>\r\n\r\n<script>\r\n\r\nimport MapJS from \"@/assets/MapJS\";\r\n\r\nconst map = MapJS()\r\n    .featureClass('id'); //component to handle the map\r\n\r\nconst d3 = require('d3');\r\n\r\nexport default {\r\n  name: \"Map\",\r\n  props: {\r\n    featureCollection: {\r\n      type: Object,\r\n      default: () => ({\r\n        type: 'FeatureCollection',\r\n        features: [\r\n          {\r\n            type: 'Feature',\r\n            properties: {\r\n              color: \"red\"\r\n            },\r\n            geometry: {\r\n              type: 'LineString',\r\n              coordinates: [[0, 0], [1, 1]],\r\n            },\r\n          },\r\n        ],\r\n      }),\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loading: true\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    const gAbila = d3.select(this.$refs.abila);\r\n    const gRoutes = d3.select(this.$refs.routes);\r\n\r\n    d3.json('/Abila_geo.json')\r\n        .then((data) => {\r\n          gAbila.datum(data)\r\n              .call(map);\r\n        });\r\n\r\n    gRoutes.datum(this.featureCollection)\r\n        .call(map);\r\n\r\n    this.loading = false\r\n  },\r\n\r\n  methods: {},\r\n\r\n  watch: {\r\n    featureCollection(newFc) {\r\n      this.loading = true;\r\n      const gRoutes = d3.select(this.$refs.routes);\r\n\r\n      gRoutes.datum(newFc).call(map);\r\n\r\n      this.loading = false;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\ng.abila path {\r\n  fill: transparent;\r\n  stroke: rgba(204, 185, 153, .5);\r\n}\r\n\r\ng.routes path {\r\n  opacity: .7;\r\n  fill: transparent;\r\n  stroke-width: 4;\r\n}\r\n\r\nsvg > image {\r\n  y: -5px;\r\n  x: 5px;\r\n  transform: scaleX(.984) scaleY(1.032);\r\n}\r\n\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=0b9449b0&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.loading}},[_c('b-form-group',[_c('h4',[_vm._v(\"Impostazioni temporali\")]),_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('label',[_vm._v(\"Seleziona un giorno:\")])]),_c('b-col',[_c('b-form-datepicker',{attrs:{\"id\":\"datepicker\",\"min\":\"2014-01-06\",\"max\":\"2014-01-19\",\"locale\":\"it\"},model:{value:(_vm.pickedDate),callback:function ($$v) {_vm.pickedDate=$$v},expression:\"pickedDate\"}})],1),_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('div',[_vm._v(_vm._s(_vm.datePrettyPrint(_vm.pickedDate)))])])],1),_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('label',[_vm._v(\"Seleziona un intervallo orario:\")])]),_c('b-col',[_c('rangeSelector',{attrs:{\"curr-time\":_vm.currTime,\"timestamps\":_vm.ts,\"playState\":_vm.playState,\"carColors\":_vm.carColors},on:{\"changeTime\":function($event){return _vm.updateTime($event)}}})],1),_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('div',[_vm._v(_vm._s(_vm.timePrettyPrint(_vm.start))),_c('br'),_vm._v(_vm._s(_vm.timePrettyPrint(_vm.stop)))])])],1),_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"cols\":\"2\",\"offset\":\"5\"}},[_c('b-button-group',[_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.slower()}}},[_c('b-icon',{attrs:{\"icon\":\"skip-start\"}})],1),_c('b-button',{attrs:{\"pressed\":_vm.playState,\"variant\":\"outline-primary\"},on:{\"update:pressed\":function($event){_vm.playState=$event}}},[_c('b-icon',{attrs:{\"hidden\":_vm.playState,\"icon\":\"play\"}}),_c('b-icon',{attrs:{\"hidden\":!_vm.playState,\"icon\":\"stop\"}})],1),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.faster()}}},[_c('b-icon',{attrs:{\"icon\":\"skip-end\"}})],1)],1)],1),_c('b-col',{attrs:{\"offset\":\"3\",\"cols\":\"2\"}},[_vm._v(\" \"+_vm._s(_vm.timePrettyPrint(_vm.currTime))+\" \"),_c('br'),_vm._v(\" x\"+_vm._s(_vm.playSpeed)+\" \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{ref:\"rangeSelector\",staticClass:\"rangeSelector\",attrs:{\"width\":\"100%\",\"height\":\"70px\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const d3 = require('d3');\r\n\r\n\r\nexport default function RangeSelector() {\r\n    const dispatch = d3.dispatch(\"interval\");\r\n\r\n    let paddingTop = 17;\r\n\r\n    let rif;\r\n    let boundaries = null;\r\n    let x = d3.scaleUtc();\r\n    let colorScaleFunction = d3.scaleLinear();\r\n\r\n    const brush = d3.brushX()\r\n        .on('end', brushended);\r\n\r\n\r\n    function brushended(event) {\r\n        if (!event.selection) {\r\n            dispatch.call('interval', this, [x.invert(0).getTime(), x.invert(boundaries.width).getTime()]);\r\n            return;\r\n        }\r\n        const extent =\r\n            event.selection.map(c => x.invert(c).getTime())\r\n        ;\r\n\r\n        dispatch.call('interval', this, extent);\r\n    }\r\n\r\n    function me(selection) {\r\n        rif = selection;\r\n        let params = selection.datum();\r\n\r\n        boundaries = selection.node().getBoundingClientRect()\r\n\r\n        x = x\r\n            .domain([params.min, params.max])\r\n            .range([0, boundaries.width])\r\n\r\n        let height = (boundaries.height - paddingTop) / params.values.length;\r\n\r\n        selection.selectAll('rect').remove()\r\n        selection.selectAll('text.nots').remove()\r\n\r\n        if (params.values.length == 0) {\r\n            let rect = selection\r\n                .selectAll('text.nots')\r\n                .data([0])\r\n\r\n            rect.enter()\r\n                .append('text')\r\n                .attr(\"class\", \"nots\")\r\n                .attr('x', boundaries.width / 2)\r\n                .attr('y', paddingTop)\r\n                .attr('height', boundaries.height - paddingTop)\r\n                .attr('fill', 'red') //altrimenti non esegua l'animazione\r\n                .text(\"Nessun segnale gps disponibile\")\r\n                .attr(\"dy\", \"1em\")\r\n                .style(\"font-size\", \"18px\")\r\n                .transition()\r\n                .duration(500)\r\n        }\r\n\r\n        for (let i = 0; i < params.values.length; i++) {\r\n            let array = []\r\n\r\n            let c = 0;\r\n            for (let i = params.min; i < params.max; i += params.step)\r\n                array[c++] = 0;\r\n\r\n            let max = 0;\r\n            params.values[i].ts.forEach((d) => {\r\n                let position = parseInt((d - params.min) / params.step);\r\n                array[position]++;\r\n                if (array[position] > max)\r\n                    max = array[position]\r\n            })\r\n\r\n            const dim = boundaries.width / array.length;\r\n\r\n            colorScaleFunction.domain([0, max])\r\n                .range([\"white\", params.colors[params.values[i].id]])\r\n\r\n            let g = selection\r\n                .selectAll('rect' + params.values[i].id)\r\n                .data(array)\r\n\r\n\r\n            g.enter()\r\n                .append('rect')\r\n                .attr('class', 'rect' + params.values[i].id)\r\n                .attr('x', (d, i) => i * dim)\r\n                .attr('y', i * height + paddingTop)\r\n                .attr('width', dim)\r\n                .attr('height', height)\r\n                .attr('fill', 'white') //altrimenti non esegua l'animazione\r\n                .transition()\r\n                .duration(500)\r\n                .attr('fill', colorScaleFunction)\r\n        }\r\n\r\n        rif.call(brush);\r\n\r\n\r\n        const x_axis = d3.axisBottom()\r\n            .scale(x)\r\n            .tickFormat(d3.utcFormat('%H:%M'));\r\n\r\n\r\n        const axis = selection.selectAll(\"g.axis\")\r\n            .data([0])\r\n\r\n        axis\r\n            .append('g')\r\n            .attr(\"class\", \"axis\")\r\n            .merge(selection)\r\n            .call(x_axis);\r\n\r\n        selection.select(\"g.axis\").raise()\r\n    }\r\n\r\n    me.on = (eventType, handler) => {\r\n        dispatch.on(eventType, handler);\r\n\r\n        return me;\r\n    };\r\n\r\n\r\n    me.paddingTop = (_) => {\r\n        if (!arguments.length) return paddingTop;\r\n        paddingTop = _;\r\n\r\n        return me;\r\n    };\r\n\r\n\r\n    me.timeScaler = (_) => {\r\n        if (!arguments.length) return x;\r\n        x = _;\r\n\r\n        return me;\r\n    };\r\n\r\n    me.colorScaler = (_) => {\r\n        if (!arguments.length) return colorScaleFunction;\r\n        colorScaleFunction = _;\r\n\r\n        return me;\r\n    };\r\n\r\n    me.updateCircle = (timestamp) => {\r\n        rif\r\n            .selectAll(\"circle\").remove()\r\n\r\n        if (timestamp != null)\r\n            rif.append('circle')\r\n                .attr('cx', x(timestamp))\r\n                .attr('cy', (boundaries.height + paddingTop) / 2)\r\n                .attr('r', 2)\r\n                .attr('fill', 'red');\r\n\r\n        return me;\r\n    };\r\n\r\n\r\n    me.clearBrush = () => {\r\n        brush.clear(rif);\r\n\r\n        return me;\r\n    };\r\n\r\n\r\n    return me;\r\n}","<template>\r\n  <svg width=\"100%\" height=\"70px\" class=\"rangeSelector\" ref=\"rangeSelector\">\r\n    <!-- non uso viewport anche qui perchè altrimenti non scala bene l'asse delle x -->\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\nimport RangeSelector from \"@/assets/rangeSelectorJS\";\r\n\r\nconst rs = RangeSelector();\r\nconst d3 = require('d3')\r\n\r\nexport default {\r\n  name: \"rangeSelector\",\r\n\r\n  //Per ridisegnare il componente se la pagina viene ridimensioata\r\n  created() {\r\n    window.addEventListener(\"resize\", this.pageResize);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"resize\", this.pageResize);\r\n  },\r\n\r\n  props: {\r\n    timestamps: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    currTime: {\r\n      type: Number,\r\n      default: () => 0\r\n    },\r\n    playState: {\r\n      type: Boolean,\r\n      default: () => false\r\n    },\r\n    carColors: {\r\n      type: Object,\r\n      default: () => {\r\n        return {1: 'red', 2: 'blue'}\r\n      }\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      min: 0,\r\n      max: 86400000,\r\n      step: 60 * 1000 * 10\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    d3.select(this.$refs.rangeSelector)\r\n        .datum(this.makeConfig())\r\n        .call(rs);\r\n\r\n    rs.on(\"interval\", (d) => {\r\n      this.$emit('changeTime', {\r\n        start: d[0],\r\n        stop: d[1]\r\n      });\r\n    })\r\n  },\r\n\r\n  methods: {\r\n    makeConfig() {\r\n      return {\r\n        values: this.timestamps.map((a) => {\r\n          return {\r\n            id: a.id,\r\n            ts: a.timestamp.map((d) => d % this.max)\r\n          }\r\n        }),\r\n        min: this.min,\r\n        max: this.max,\r\n        step: this.step, //intervalli di 1 s\r\n        colors: this.carColors\r\n      }\r\n    },\r\n\r\n    pageResize() {\r\n      d3.select(this.$refs.rangeSelector)\r\n          .call(rs);\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    timestamps: {\r\n      handler() {\r\n        d3.select(this.$refs.rangeSelector)\r\n            .datum(this.makeConfig())\r\n            .call(rs);\r\n\r\n        rs.clearBrush()\r\n      }\r\n    },\r\n    currTime: {\r\n      handler(newVal) {\r\n        if (this.playState)\r\n          rs.updateCircle(newVal % this.max)\r\n        else rs.updateCircle(null)\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.rangeSelector {\r\n}\r\n</style>","<template>\r\n  <sunburst\r\n      :data=\"data\"\r\n      :colorScale=\"colorScale\"\r\n      class=\"sunburst\">\r\n\r\n    <myBreadcrumbTrail slot=\"legend\"\r\n                       slot-scope=\"{ nodes, colorGetter, width }\"\r\n                       :current=\"nodes.mouseOver\"\r\n                       :root=\"nodes.root\"\r\n                       :colorGetter=\"colorGetter\"\r\n                       :from=\"nodes.clicked\"\r\n                       :width=\"width\"\r\n                       :itemWidth=\"150\"/>\r\n\r\n    <template slot-scope=\"{ on, actions }\">\r\n      <highlightOnHover v-bind=\"{ on, actions }\"/>\r\n      <zoomOnClick v-bind=\"{ on, actions }\"/>\r\n    </template>\r\n\r\n  </sunburst>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  highlightOnHover,\r\n  sunburst,\r\n  zoomOnClick\r\n} from 'vue-d3-sunburst'\r\nimport crossfilter from 'crossfilter';\r\nimport myBreadcrumbTrail from \"@/components/vue-d3-sunburst/myBreadcrumbTrail\";\r\nimport BiMap from 'bidirectional-map'\r\n\r\nconst d3 = require('d3');\r\n\r\nlet id_FristLastName = new BiMap()\r\n\r\nlet cf; // crossfilter instance\r\nlet dID; // dimension for Id\r\nlet dDate;\r\nlet dTime;\r\n\r\nexport default {\r\n  name: \"mySunburst\",\r\n\r\n  components: {\r\n    myBreadcrumbTrail,\r\n    highlightOnHover,\r\n    sunburst,\r\n    zoomOnClick\r\n  },\r\n\r\n  props: {\r\n    usersColor: {\r\n      type: Object,\r\n      default: () => {\r\n      }\r\n    },\r\n    TimeControls: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          mapTimeStart: new Date(\"2014-01-06 00:00:00 GMT\").getTime(),\r\n          mapTimeStop: new Date(\"2014-01-06 00:01:00 GMT\").getTime(),\r\n          mapDate: new Date(\"2014-01-06 00:00:00 GMT\").getTime(),\r\n          playState: false\r\n        }\r\n      }\r\n    },\r\n\r\n    scaler: {\r\n      type: Function,\r\n      default: d3.scaleLinear()\r\n\r\n    },\r\n\r\n    colors: {\r\n      required: true,\r\n      default: () => [\"red\"]\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    d3.csv(\"/transazioni.csv\", (row) => {\r\n      let time = null;\r\n\r\n      if (row.time != \"\")\r\n        time = new Date(row.timestamp + \" \" + row.time + \" UTC\").getTime()\r\n\r\n      return {\r\n        id: row.id,\r\n        date: new Date(row.timestamp + \" GMT\").getTime(),\r\n        location: row.location,\r\n        price: parseFloat(row.price),\r\n        time: time,\r\n        credit_card: row.credit_card == \"True\",\r\n        loyalty_card: row.loyalty_card == \"True\"\r\n      }\r\n    }).then((data) => {\r\n      cf = crossfilter(data)\r\n      dID = cf.dimension(d => d.id);\r\n      dDate = cf.dimension(d => d.date);\r\n      dTime = cf.dimension(d => d.time);\r\n\r\n      dID.filter(d => Object.keys(this.usersColor).indexOf(d) > -1);\r\n      dDate.filter(d => d == this.TimeControls.mapDate)\r\n\r\n      d3.csv(\"/nomi.csv\").then(data => {\r\n        data.forEach((d) => {\r\n          id_FristLastName.set(d.id, d.LastName + \" \" + d.FirstName)\r\n        })\r\n\r\n        this.colorScale = d3.scaleOrdinal(this.mappaPersoneColori(), this.colors)\r\n\r\n        this.loading = false;\r\n      });\r\n\r\n      this.updateData()\r\n    });\r\n  },\r\n\r\n  methods: {\r\n    updateData() {\r\n      let res = dID.top(Infinity)\r\n\r\n      const hierarchy = this.list_to_tree(res, [\"id\", \"location\"]);\r\n\r\n      this.data = hierarchy;\r\n    },\r\n\r\n    list_to_tree(data, levels) {\r\n      let newData = {name: \"Totale\", children: []};\r\n\r\n      data.forEach(function (d) {\r\n        var depthCursor = newData.children;\r\n        levels.forEach(function (property, depth) {\r\n          var index;\r\n          depthCursor.forEach(function (child, i) {\r\n            if (d[property] == child.name || (property == \"id\" && id_FristLastName.get(d[property]) == child.name))\r\n              index = i;\r\n          });\r\n\r\n          if (isNaN(index)) {\r\n            if (property == \"id\") {\r\n              depthCursor.push({name: id_FristLastName.get(d[property]), children: []});\r\n            } else\r\n              depthCursor.push({name: d[property], children: []});\r\n\r\n            index = depthCursor.length - 1;\r\n          }\r\n\r\n          depthCursor = depthCursor[index].children;\r\n\r\n          if (depth === levels.length - 1) {\r\n            let name = \"\"\r\n            const ore = new Date(d.time).getUTCHours();\r\n            const minuti = new Date(d.time).getUTCMinutes()\r\n\r\n            if (d.time != null) {\r\n              if (ore < 10)\r\n                name += \"0\" + ore\r\n              else\r\n                name += ore\r\n              if (minuti < 10)\r\n                name += \":0\" + minuti\r\n              else\r\n                name += \":\" + minuti\r\n\r\n            } else\r\n              name = \"Solo C. Fedeltà\"\r\n\r\n            depthCursor.push({size: d.price, name: name, loyalty_card: d.loyalty_card, credit_card: d.credit_card});\r\n          }\r\n        });\r\n      });\r\n\r\n      return newData;\r\n    },\r\n\r\n    mappaPersoneColori() {\r\n      let tmp = []\r\n      for (let i = 0; i < 59; i++)\r\n        tmp[i] = id_FristLastName.get(i.toString())\r\n      return tmp\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    usersColor: {\r\n      handler(nv) {\r\n        dID.filter(d => Object.keys(nv).indexOf(d) > -1);\r\n\r\n        this.updateData()\r\n      }\r\n    },\r\n\r\n    TimeControls: {\r\n      handler(nv) {\r\n        if (nv.playState == true) return;\r\n\r\n        dDate.filter(d => {\r\n          return d == nv.mapDate\r\n        });\r\n\r\n        dTime.filter(d => {\r\n          if (d == null)\r\n            return true;\r\n\r\n          return d > nv.mapTimeStart && d < nv.mapTimeStop\r\n\r\n        });\r\n\r\n        this.updateData()\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      data: {\r\n        \"name\": \"flare\",\r\n        \"children\": [\r\n          {\r\n            \"name\": \"analytics\",\r\n            \"children\": [\r\n              {\r\n                \"name\": \"cluster\",\r\n                \"children\": [\r\n                  {\"name\": \"AgglomerativeCluster\", \"size\": 3938}\r\n                ]\r\n              },\r\n              {\r\n                \"name\": \"optimization\",\r\n                \"children\": [\r\n                  {\"name\": \"AspectRatioBanker\", \"size\": 7074}\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n\r\n      colorScale: d3.scaleOrdinal()\r\n    }\r\n  },\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n.sunburst .viewport {\r\n  height: 100%;\r\n}\r\n\r\n.sunburst text {\r\n  fill: white;\r\n}\r\n\r\n</style>","<template>\r\n  <div id=\"app\">\r\n    <b-navbar type=\"dark\" variant=\"primary\" class=\"shadow\">\r\n      <b-navbar-brand>VAST 2014 - mc2</b-navbar-brand>\r\n      <b-collapse id=\"nav-text-collapse\" is-nav>\r\n        <b-navbar-nav>\r\n          <b-nav-text>Cristiano Landi</b-nav-text>\r\n        </b-navbar-nav>\r\n      </b-collapse>\r\n    </b-navbar>\r\n\r\n\r\n    <b-overlay :show=\"loading != 0\">\r\n      <b-container style=\"padding-bottom: 200px\" fluid=\"xl\">\r\n        <b-row>\r\n          <b-col xl=\"8\" style=\"text-align: center\" class=\"xl-no-padding\">\r\n            <Map\r\n                :featureCollection=\"pointCollection\"\r\n            />\r\n          </b-col>\r\n          <b-col xl=\"4\" class=\"xl-no-padding\">\r\n            <idSelector\r\n                :colorSet=\"colorbrewer_colors\"\r\n                @changeCars=\"updateCar($event)\"/>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col cols=\"12\">\r\n            <TimeControls\r\n                @changeTime=\"updateDate($event)\"\r\n                :ts=\"ts\"\r\n                :carColors=\"usersColor\"\r\n            />\r\n          </b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col cols=\"12\">\r\n            <h4>Transazioni</h4>\r\n            <MySunburst style=\"height: 400px\"\r\n                        :users-color=\"usersColor\"\r\n                        :time-controls=\"TimeControls\"\r\n                        :colors=\"colorbrewer_colors\"\r\n            ></MySunburst>\r\n          </b-col>\r\n        </b-row>\r\n      </b-container>\r\n    </b-overlay>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport IdSelector from \"@/components/idSelector\";\r\n\r\nconst d3 = require('d3');\r\n\r\nimport crossfilter from 'crossfilter';\r\nimport BiMap from 'bidirectional-map'\r\n\r\n\r\nimport Map from '@/components/Map';\r\nimport TimeControls from \"@/components/TimeControls\";\r\nimport MySunburst from \"@/components/mySunburst\";\r\n\r\nlet cf; // crossfilter instance\r\nlet dID; // dimension for Id\r\nlet dTimestamp;\r\n\r\nlet id_to_car_map = new BiMap()\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    MySunburst,\r\n    IdSelector,\r\n    TimeControls,\r\n    Map,\r\n  },\r\n  data() {\r\n    return {\r\n      pointCollection: {\r\n        type: 'FeatureCollection',\r\n        features: [\r\n          {\r\n            type: 'Feature',\r\n            properties: {\r\n              name: 'Default point',\r\n            },\r\n            geometry: {\r\n              type: 'LineString',\r\n              coordinates: [[1, 1], [1, 2]]\r\n            },\r\n          },\r\n        ],\r\n      },\r\n\r\n      ts: [],\r\n\r\n      colorbrewer_colors: ['#e41a1c', '#377eb8', '#4daf4a',\r\n        '#984ea3', '#ff7f00',//'#ffff33',\r\n        '#a65628', '#f781bf'],\r\n\r\n      usersColor: {},\r\n\r\n      TimeControls: {\r\n        mapTimeStart: new Date(\"2014-01-06 00:00:00 GMT\").getTime(),\r\n        mapTimeStop: new Date(\"2014-01-06 23:59:59 GMT\").getTime(),\r\n        mapDate: new Date(\"2014-01-06 00:00:00 GMT\").getTime(),\r\n        playState: false\r\n      },\r\n\r\n      loading: 2\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    fetch('./gps.json')\r\n        .then(data => data.json())\r\n        .then((data) => {\r\n          const gps = data.map((d) => {\r\n            const r = {\r\n              Timestamp: +new Date(d.Timestamp + \" GMT\").getTime(), //timestamp, lo stesso di sopra\r\n              id: +d.id,\r\n              lat: +d.lat,\r\n              long: +d.long\r\n            };\r\n            return r;\r\n          });\r\n\r\n          cf = crossfilter(gps);\r\n          dID = cf.dimension(d => d.id);\r\n          dTimestamp = cf.dimension(d => d.Timestamp);\r\n\r\n          dTimestamp.filterRange([parseInt(this.TimeControls.mapDate), parseInt(this.TimeControls.mapDate) + (1000 * 60 * 60 * 24)]);\r\n\r\n          this.loading--\r\n        });\r\n\r\n\r\n    d3.csv(\"/macchine.csv\").then(data => {\r\n      data.forEach((d) => {\r\n        id_to_car_map.set(parseInt(d.id), parseInt(d.CarID))\r\n      })\r\n\r\n      this.loading--\r\n    });\r\n  },\r\n  methods: {\r\n    refresh(cfDimension) {\r\n      dTimestamp.filterRange([parseInt(this.TimeControls.mapTimeStart), parseInt(this.TimeControls.mapTimeStop)]);\r\n\r\n      this.pointCollection = this.getGeoJsonFromReports(cfDimension.top(Infinity));\r\n    },\r\n\r\n    updateDate(newVal) {\r\n      this.TimeControls.mapTimeStart = newVal.start;\r\n      this.TimeControls.mapTimeStop = newVal.stop;\r\n      this.TimeControls.playState = newVal.playState;\r\n      if (newVal.day != null) {\r\n        this.TimeControls.mapDate = newVal.day\r\n        dTimestamp.filterRange([parseInt(this.TimeControls.mapDate), parseInt(this.TimeControls.mapDate) + (1000 * 60 * 60 * 24)]);\r\n        this.ts = this.getTimestampList(dTimestamp.top(Infinity))\r\n      }\r\n\r\n      this.refresh(dTimestamp);\r\n    },\r\n\r\n    updateCar(newVal) {\r\n      const carIds = newVal.map(d => id_to_car_map.get(d));\r\n\r\n      if (carIds.includes(undefined))\r\n        this.$bvToast.toast('Sono stati selezionati dipendenti senza auto associata, ' +\r\n            'puoi comunque selezionare un intervallo orario per visualizzare le sue transazioni', {\r\n          title: 'Attenzione',\r\n          autoHideDelay: 5000,\r\n        })\r\n\r\n      this.updateColor(newVal);\r\n      dID.filter(d => carIds.indexOf(d) > -1);\r\n      this.updateDate({\r\n        start: this.TimeControls.mapTimeStart,\r\n        stop: this.TimeControls.mapTimeStop,\r\n        day: this.TimeControls.mapDate\r\n      })\r\n      this.refresh(dID);\r\n    },\r\n\r\n    updateColor(ids) {\r\n      this.usersColor = {}\r\n      ids.forEach((d) => {\r\n        this.usersColor[d] = this.colorbrewer_colors[d % this.colorbrewer_colors.length]\r\n      })\r\n    },\r\n\r\n    getTimestampList(cf_result) {\r\n      const ts = Array.from(d3.group(cf_result, c => c.id)).map((d) => {\r\n        return {\r\n          id: id_to_car_map.getKey(d[0]),\r\n          timestamp: d[1].sort((a, b) => a.Timestamp - b.Timestamp).map(p => (p.Timestamp)),\r\n        };\r\n      });\r\n\r\n      return ts;\r\n    },\r\n\r\n    getGeoJsonFromReports(coordinates) {\r\n      const trs = Array.from(d3.group(coordinates, c => c.id)).map((d) => {\r\n        return {\r\n          id: d[0],\r\n          trajs: d[1].sort((a, b) => a.Timestamp - b.Timestamp).map(p => ([p.long, p.lat])),\r\n        };\r\n      });\r\n\r\n\r\n      const fc = {\r\n        type: 'FeatureCollection',\r\n        features: trs\r\n            .map(d => ({ // for each entry\r\n                  type: 'Feature',\r\n                  properties: {\r\n                    id: id_to_car_map.getKey(d.id),\r\n                    color: this.usersColor[id_to_car_map.getKey(d.id)]\r\n                  },\r\n                  geometry: {\r\n                    type: 'LineString',\r\n                    coordinates: d.trajs,\r\n                  }\r\n                })\r\n            )\r\n      };\r\n      return fc;\r\n    }\r\n  },\r\n  watch: {},\r\n}\r\n</script>\r\n\r\n<style>\r\nnav {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.row {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.xl-no-padding {\r\n  padding: 0px !important;\r\n}\r\n\r\n@media only screen and (max-width: 1200px) {\r\n  .xl-no-padding {\r\n    padding: 16px !important;\r\n  }\r\n}\r\n\r\n.container-xl{\r\n  max-width: 1200px !important; /*sfrutto al massimo lo spazio*/\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rangeSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rangeSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rangeSelector.vue?vue&type=template&id=5f476b56&scoped=true&\"\nimport script from \"./rangeSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./rangeSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rangeSelector.vue?vue&type=style&index=0&id=5f476b56&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f476b56\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <b-overlay :show=\"loading\">\r\n    <b-form-group>\r\n      <h4>Impostazioni temporali</h4>\r\n      <b-row align-v=\"center\">\r\n        <b-col cols=\"2\">\r\n          <label>Seleziona un giorno:</label>\r\n        </b-col>\r\n\r\n        <b-col>\r\n          <b-form-datepicker id=\"datepicker\" v-model=\"pickedDate\" min=\"2014-01-06\" max=\"2014-01-19\"\r\n                             locale=\"it\"></b-form-datepicker>\r\n        </b-col>\r\n\r\n        <b-col cols=\"2\">\r\n          <div>{{ datePrettyPrint(pickedDate) }}</div>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row align-v=\"center\">\r\n        <b-col cols=\"2\">\r\n          <label>Seleziona un intervallo orario:</label>\r\n        </b-col>\r\n\r\n        <b-col>\r\n          <rangeSelector\r\n              :curr-time=\"currTime\"\r\n              :timestamps=\"ts\"\r\n              :playState=\"playState\"\r\n              :carColors=\"carColors\"\r\n              @changeTime=\"updateTime($event)\"\r\n          ></rangeSelector>\r\n        </b-col>\r\n        <b-col cols=\"2\">\r\n          <div>{{ timePrettyPrint(start) }}<br>{{ timePrettyPrint(stop) }}</div>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row align-v=\"center\">\r\n        <b-col cols=\"2\" offset=\"5\">\r\n          <b-button-group>\r\n            <b-button v-on:click=\"slower()\" variant=\"outline-primary\">\r\n              <b-icon icon=\"skip-start\"></b-icon>\r\n            </b-button>\r\n            <b-button :pressed.sync=\"playState\" variant=\"outline-primary\">\r\n              <b-icon :hidden=\"playState\" icon=\"play\"></b-icon>\r\n              <b-icon :hidden=\"!playState\" icon=\"stop\"></b-icon>\r\n            </b-button>\r\n            <b-button v-on:click=\"faster()\" variant=\"outline-primary\">\r\n              <b-icon icon=\"skip-end\"></b-icon>\r\n            </b-button>\r\n          </b-button-group>\r\n        </b-col>\r\n        <b-col offset=\"3\" cols=\"2\">\r\n          {{ timePrettyPrint(currTime) }} <br> x{{ playSpeed }}\r\n        </b-col>\r\n      </b-row>\r\n    </b-form-group>\r\n  </b-overlay>\r\n</template>\r\n\r\n<script>\r\nimport RangeSelector from \"@/components/rangeSelector\";\r\n\r\nexport default {\r\n  name: \"TimeControls\",\r\n\r\n  components: {RangeSelector},\r\n\r\n  props: {\r\n    mapTimeStart: {\r\n      type: Number,\r\n      default: new Date(\"2014-01-06 00:00:00 GMT\").getTime()\r\n    },\r\n    mapTimeStop: {\r\n      type: Number,\r\n      default: new Date(\"2014-01-06 23:59:59 GMT\").getTime()\r\n    },\r\n\r\n    ts: {\r\n      type: Array,\r\n      required: true,\r\n      default: () => []\r\n    },\r\n\r\n    carColors: {\r\n      type: Object,\r\n      default: () => {\r\n      }\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      pickedDate: \"2014-01-06\",\r\n\r\n      start: new Date(\"2014-01-06 00:00:00 GMT\").getTime(),\r\n      stop: new Date(\"2014-01-06 23:59:59 GMT\").getTime(),\r\n\r\n      playSpeed: 8,\r\n\r\n      playState: false,\r\n      currTime: new Date(\"2014-01-06 00:00:00 GMT\").getTime(),\r\n\r\n      loading: true\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.loading = false;\r\n  },\r\n\r\n  computed: {},\r\n\r\n  methods: {\r\n    updateTime(newVal) {\r\n      const dayTimeStamp = new Date(this.pickedDate).getTime()\r\n\r\n      this.start = newVal.start + dayTimeStamp\r\n      this.stop = newVal.stop + dayTimeStamp\r\n      this.currTime = this.start\r\n      this.playState = false\r\n\r\n      this.$emit('changeTime', {\r\n        start: this.start,\r\n        stop: this.stop,\r\n        day: null,\r\n        playState: this.playState\r\n      });\r\n    },\r\n\r\n    datePrettyPrint(YYYY_MM_DD) {\r\n      return YYYY_MM_DD;\r\n    },\r\n\r\n    timePrettyPrint(timestamp) {\r\n      let date = new Date(parseInt(timestamp));\r\n      return date.toLocaleTimeString(['it'], {timeZone: 'GMT', hour: '2-digit', minute:'2-digit'});\r\n    },\r\n\r\n    animate(inizio, fine) {\r\n      if (inizio > fine || !this.playState) {\r\n        this.playState = false;\r\n        this.currTime = this.start;\r\n        return;\r\n      }\r\n\r\n      this.currTime = inizio + 60 * 1000; //mostra i 60 secondi successivi\r\n\r\n      this.$emit('changeTime', {\r\n        start: inizio,\r\n        stop: this.currTime,\r\n        day: null,\r\n        playState: this.playState\r\n      });\r\n\r\n      setTimeout(() => {\r\n        this.animate(inizio + 1000 * this.playSpeed, fine)\r\n      }, 1000 / 30);\r\n    },\r\n\r\n    slower() {\r\n      this.playSpeed /= 2\r\n    },\r\n\r\n    faster() {\r\n      this.playSpeed *= 2\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    playState: {\r\n      handler(v) {\r\n        if (!v)\r\n          this.$emit('changeTime', {\r\n            start: this.start,\r\n            stop: this.stop,\r\n            day: null,\r\n            playState: this.playState\r\n          });\r\n        this.animate(parseInt(this.currTime), parseInt(this.stop));\r\n      }\r\n    },\r\n\r\n    pickedDate: {\r\n      handler(newVal) {\r\n        this.start = new Date(newVal + \" 00:00:00 GMT\").getTime();\r\n        this.stop = new Date(newVal + \" 23:59:59 GMT\").getTime();\r\n\r\n\r\n        this.$emit('changeTime', {\r\n          start: this.start,\r\n          stop: this.stop,\r\n          day: this.start,\r\n          playState: this.playState\r\n        });\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeControls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeControls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeControls.vue?vue&type=template&id=301bb682&scoped=true&\"\nimport script from \"./TimeControls.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeControls.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"301bb682\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('sunburst',{staticClass:\"sunburst\",attrs:{\"data\":_vm.data,\"colorScale\":_vm.colorScale},scopedSlots:_vm._u([{key:\"legend\",fn:function(ref){\nvar nodes = ref.nodes;\nvar colorGetter = ref.colorGetter;\nvar width = ref.width;\nreturn _c('myBreadcrumbTrail',{attrs:{\"current\":nodes.mouseOver,\"root\":nodes.root,\"colorGetter\":colorGetter,\"from\":nodes.clicked,\"width\":width,\"itemWidth\":150}})}},{key:\"default\",fn:function(ref){\nvar on = ref.on;\nvar actions = ref.actions;\nreturn [_c('highlightOnHover',_vm._b({},'highlightOnHover',{ on: on, actions: actions },false)),_c('zoomOnClick',_vm._b({},'zoomOnClick',{ on: on, actions: actions },false))]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('breadcrumb',_vm._b({style:({ order: _vm.order })},'breadcrumb',{\n    colorGetter: _vm.colorGetter,\n    endText: _vm.endText,\n    from: _vm.fromItem,\n    itemHeight: _vm.itemHeight,\n    itemWidth: _vm.itemWidth,\n    items: _vm.items,\n    spacing: _vm.spacing,\n    tailWidth: _vm.tailWidth,\n    width: _vm.width\n  },false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bread-sequence\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bread-sequence\"></div>\r\n</template>\r\n<script>\r\nimport { select } from \"d3-selection\";\r\n\r\n/**\r\n * Generic breadcrumb trail component.\r\n */\r\nexport default {\r\n  name: \"myBreadcrumb\",\r\n  props: {\r\n    /**\r\n     * Items to be displayed\r\n     */\r\n    items: {\r\n      required: true,\r\n      type: Array\r\n    },\r\n    /**\r\n     * Current item\r\n     */\r\n    from: {\r\n      required: false,\r\n      type: Object\r\n    },\r\n    /**\r\n     * End text\r\n     */\r\n    endText: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    /**\r\n     *  ColorGetter exposed by sunburst\r\n     */\r\n    colorGetter: {\r\n      required: true,\r\n      type: Function\r\n    },\r\n    /**\r\n     *  Sunburst width\r\n     */\r\n    width: {\r\n      required: false,\r\n      type: Number\r\n    },\r\n    /**\r\n     *  Bread crumb item width\r\n     */\r\n    itemWidth: {\r\n      required: false,\r\n      type: Number,\r\n      default: 80\r\n    },\r\n    /**\r\n     * Bread crumb item height\r\n     */\r\n    itemHeight: {\r\n      required: false,\r\n      type: Number,\r\n      default: 30\r\n    },\r\n    /**\r\n     * Spacing between breadcrumb items\r\n     */\r\n    spacing: {\r\n      required: false,\r\n      type: Number,\r\n      default: 3\r\n    },\r\n    /**\r\n     * With of tailing element\r\n     */\r\n    tailWidth: {\r\n      required: false,\r\n      type: Number,\r\n      default: 10\r\n    }\r\n  },\r\n  mounted() {\r\n    var trail = select(this.$el)\r\n      .append(\"svg:svg\")\r\n      .attr(\"width\", this.width)\r\n      .attr(\"height\", 50)\r\n      .attr(\"class\", \"trail\")\r\n      .style(\"overflow\", \"visible\");\r\n    // Add the label at the end, for the percentage.\r\n    trail\r\n      .append(\"svg:text\")\r\n      .attr(\"class\", \"endlabel\")\r\n      .style(\"fill\", \"#000\");\r\n  },\r\n  methods: {\r\n    /**\r\n     * @private\r\n     */\r\n    breadcrumbPoints(_, i) {\r\n      var points = [];\r\n      points.push(\"0,0\");\r\n      points.push(this.itemWidth + \",0\");\r\n      points.push(this.itemWidth + this.tailWidth + \",\" + this.itemHeight / 2);\r\n      points.push(this.itemWidth + \",\" + this.itemHeight);\r\n      points.push(\"0,\" + this.itemHeight);\r\n      if (i > 0) {\r\n        // Leftmost breadcrumb; don't include 6th vertex.\r\n        points.push(this.tailWidth + \",\" + this.itemHeight / 2);\r\n      }\r\n      return points.join(\" \");\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    draw() {\r\n      if (this.items.length === 0) {\r\n        select(this.$el)\r\n          .select(\".trail\")\r\n          .style(\"visibility\", \"hidden\");\r\n        return;\r\n      }\r\n\r\n      // Data join; key function combines name and depth (= position in sequence).\r\n      var trail = select(this.$el)\r\n        .select(\".trail\")\r\n        .selectAll(\"g\")\r\n        .data(this.items, d => d.id);\r\n\r\n      // Remove exiting nodes.\r\n      trail.exit().remove();\r\n\r\n      // Add breadcrumb and label for entering nodes.\r\n      var entering = trail.enter().append(\"svg:g\");\r\n\r\n      entering\r\n        .append(\"svg:polygon\")\r\n        .attr(\"points\", this.breadcrumbPoints)\r\n        .style(\"fill\", this.colorGetter);\r\n\r\n      entering\r\n        .append(\"svg\")\r\n        .attr(\"x\", this.tailWidth)\r\n        .attr(\"y\", 0)\r\n        .attr(\"width\", this.itemWidth - this.tailWidth)\r\n        .attr(\"heigth\", this.itemHeight)\r\n        .insert(\"svg:text\")\r\n        .attr(\"x\", this.itemWidth / 2)\r\n        .attr(\"y\", this.itemHeight / 2)\r\n        .attr(\"dy\", \"0.25em\")\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .style(\"font-size\", \"12px\")\r\n        .text(d => d.name);\r\n\r\n      let originIndex = this.from === null ? 0 : this.items.indexOf(this.from);\r\n      originIndex = originIndex < 0 ? this.items.length : originIndex;\r\n      // Merge enter and update selections; set position for all nodes.\r\n      entering\r\n        .merge(trail)\r\n        .attr(\r\n          \"transform\",\r\n          (d, i) => \"translate(\" + i * (this.itemWidth + this.spacing) + \", 0)\"\r\n        )\r\n        .transition(500)\r\n        .style(\r\n          \"opacity\",\r\n          d => (this.items.indexOf(d) >= originIndex ? 1 : 0.5)\r\n        );\r\n\r\n      // Now move and update the percentage at the end.\r\n      select(this.$el)\r\n        .select(\".trail\")\r\n        .select(\".endlabel\")\r\n        .attr(\r\n          \"x\",\r\n          this.items.length * (this.itemWidth + this.tailWidth / 2) +\r\n            this.spacing * 2\r\n        )\r\n        .attr(\"y\", this.itemHeight / 2)\r\n        .attr(\"dy\", \"0.25em\")\r\n        .attr(\"text-anchor\", \"left\")\r\n        .text(this.endText);\r\n\r\n      select(this.$el)\r\n        .select(\".trail\")\r\n        .style(\"visibility\", \"\");\r\n    }\r\n  },\r\n  watch: {\r\n    width() {\r\n      select(this.$el)\r\n        .select(\".trail\")\r\n        .attr(\"width\", this.width);\r\n    },\r\n    items: {\r\n      deep: true,\r\n      handler() {\r\n        this.draw();\r\n      }\r\n    },\r\n    from() {\r\n      this.draw();\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myBreadcrumb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myBreadcrumb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myBreadcrumb.vue?vue&type=template&id=017f832f&\"\nimport script from \"./myBreadcrumb.vue?vue&type=script&lang=js&\"\nexport * from \"./myBreadcrumb.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <breadcrumb\r\n    :style=\"{ order: order }\"\r\n    v-bind=\"{\r\n      colorGetter,\r\n      endText,\r\n      from: fromItem,\r\n      itemHeight,\r\n      itemWidth,\r\n      items,\r\n      spacing,\r\n      tailWidth,\r\n      width\r\n    }\"\r\n  />\r\n</template>\r\n<script>\r\nimport breadcrumb from \"./myBreadcrumb\";\r\n\r\n/**\r\n * Breadcrumb trail component displaying path between root node and current node.\r\n * Can be used as a \"legend\" slot of sunburst component.\r\n */\r\nexport default {\r\n  name: \"myBreadcrumbTrail\",\r\n  components: {\r\n    breadcrumb\r\n  },\r\n  props: {\r\n    /**\r\n     *  Root node\r\n     */\r\n    root: {\r\n      required: false,\r\n      type: Object\r\n    },\r\n    /**\r\n     *  Current node\r\n     */\r\n    current: {\r\n      required: false,\r\n      type: Object\r\n    },\r\n    /**\r\n     *  Reference node, parents nodes of the from node will have an opacity below 1\r\n     */\r\n    from: {\r\n      required: false,\r\n      type: Object\r\n    },\r\n    /**\r\n     *  ColorGetter exposed by sunburst\r\n     */\r\n    colorGetter: {\r\n      required: true,\r\n      type: Function\r\n    },\r\n    /**\r\n     *  Sunburst width\r\n     */\r\n    width: {\r\n      required: false,\r\n      type: Number\r\n    },\r\n    /**\r\n     *  Css Order. If 1 the slot is displayed below the sunburst, if 0 the slot is displayed on top the sunburst\r\n     */\r\n    order: {\r\n      required: false,\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    /**\r\n     *  Bread crumb item width\r\n     */\r\n    itemWidth: {\r\n      required: false,\r\n      type: Number,\r\n      default: 80\r\n    },\r\n    /**\r\n     * Bread crumb item height\r\n     */\r\n    itemHeight: {\r\n      required: false,\r\n      type: Number,\r\n      default: 30\r\n    },\r\n    /**\r\n     * Spacing between breadcrumb items\r\n     */\r\n    spacing: {\r\n      required: false,\r\n      type: Number,\r\n      default: 3\r\n    },\r\n    /**\r\n     * With of tailing element\r\n     */\r\n    tailWidth: {\r\n      required: false,\r\n      type: Number,\r\n      default: 10\r\n    }\r\n  },\r\n  computed: {\r\n    items() {\r\n      const { current } = this;\r\n      return !current\r\n        ? []\r\n        : current\r\n            .ancestors()\r\n            .reverse()\r\n            .map(d => ({\r\n              id: d.data.name + d.depth,\r\n              data: d.data,\r\n              name: d.data.name\r\n            }));\r\n    },\r\n    fromItem() {\r\n      const { from } = this;\r\n      if (!from) {\r\n        return null;\r\n      }\r\n      return this.items.find(it => it.data === from.data);\r\n    },\r\n    endText() {\r\n      const { current } = this;\r\n      if (!current) {\r\n        return \"\";\r\n      }\r\n      let additionalInfo = \"\";\r\n\r\n      if(!current.data.loyalty_card && current.data.credit_card)\r\n        additionalInfo = \"Nessuna C. Fedeltà\";\r\n\r\n      return current.value.toFixed(2)+\"$ \"+additionalInfo;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myBreadcrumbTrail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myBreadcrumbTrail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myBreadcrumbTrail.vue?vue&type=template&id=b110a628&\"\nimport script from \"./myBreadcrumbTrail.vue?vue&type=script&lang=js&\"\nexport * from \"./myBreadcrumbTrail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mySunburst.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mySunburst.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mySunburst.vue?vue&type=template&id=4e788041&\"\nimport script from \"./mySunburst.vue?vue&type=script&lang=js&\"\nexport * from \"./mySunburst.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mySunburst.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=c4aaf2ca&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport { BootstrapVue, IconsPlugin } from 'bootstrap-vue'\r\nimport VueGoodTablePlugin from 'vue-good-table'\r\nimport Verte from 'verte'\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\r\nimport 'vue-good-table/dist/vue-good-table.css'\r\nimport 'verte/dist/verte.css'\r\n\r\n\r\nVue.component('verte', Verte);\r\n\r\nVue.use(BootstrapVue)\r\nVue.use(IconsPlugin)\r\nVue.use(VueGoodTablePlugin)\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rangeSelector.vue?vue&type=style&index=0&id=5f476b56&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mySunburst.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}